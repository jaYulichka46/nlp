# Preprocessing Policy for News Classification

## 1. Що очищаємо
* **HTML-артефакти та кодування:** За допомогою бібліотеки `ftfy` виправляємо бите кодування та видаляємо залишки HTML-сутностей (наприклад, `&nbsp;`, `&amp;`).
* **Зайві пробіли:** Видаляємо повторювані пробіли, символи табуляції та невидимі переноси рядків, зводячи текст до одного рядка.
* **Новинні артефакти:** Видаляємо шаблонні вступні конструкції інформагентств, такі як назви міст у дужках на початку новини (наприклад, `(Київ) - `).

## 2. Що нормалізуємо
* **Апострофи:** Всі варіації (`’`, `` ` ``, `‘`, `ʼ`) замінюємо на стандартний машинописний апостроф `'`.
* **Лапки:** Різні типи лапок (« », „ “, “ ”) уніфікуємо до стандартних прямих лапок `"`.
* **Тире та дефіси:** Довгі та середні тире (—, –) замінюємо на звичайний дефіс `-` для спрощення токенізації.
* **Гомогліфи:** Використовуємо `ftfy` для виправлення ситуацій, де кириличні літери візуально замінені на схожі латинські.

## 3. Що маскуємо
* **URL-адреси:** Всі посилання на джерела замінюємо на тег `<URL>`.
* **Email-адреси:** Електронні пошти прес-служб замінюємо на тег `<EMAIL>`.

## 4. Що не чіпаємо
* **Числа та версії:** Залишаємо без змін числові дані (наприклад, "ріст 15.5%") та версії програмного забезпечення, оскільки вони можуть бути важливими ознаками для певних категорій новин.
* **Власні назви та абревіатури:** Залишаємо великі літери та скорочення типу ООН, НАТО, ЗСУ.

## 5. Sentence Split (Розбиття на речення)
Розбиття виконується за допомогою кастомного регулярного виразу, який використовує логіку «захищених скорочень».
* **Механізм:** Перед розбиттям крапки у відомих українських скороченнях (`м.`, `вул.`, `р.`, `і т.д.`) та ініціалах тимчасово замінюються на спеціальний маркер, що запобігає хибному розриву речення.
* **Критерій:** Речення розривається лише після крапки, знаку оклику чи питання, якщо за ними йде велика літера або цифра.


## 6. Приклади «До/Після»

| До обробки | Після обробки |
| :--- | :--- |
| (Львів) — Нова акція «Знижки»! | Нова акція "Знижки"! |
| Пишіть на info@news.ua для деталей. | Пишіть на `<EMAIL>` для деталей. |
| Дивіться тут: http://news.ua/123 | Дивіться тут: `<URL>` |
| Зв'язок через м. Київ, вул. Зелена. | Зв'язок через м. Київ, вул. Зелена. |
| Компанія «IT-Світ» — лідер ринку. | Компанія "IT-Світ" - лідер ринку. |
| Текст з &nbsp; пробілами... | Текст з пробілами... |
| В.О. Зеленський заявив про зміни. | В.О. Зеленський заявив про зміни. |
| Ріст склав 10.5% у 2024 р. | Ріст склав 10.5% у 2024 р. |
| «Ми переможемо», — каже СЕО. | "Ми переможемо", - каже СЕО. |
| Перейдіть на сайт www.test.com | Перейдіть на сайт `<URL>` |